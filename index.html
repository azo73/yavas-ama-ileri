<script>
/* â±ï¸ SÃœRELER */
let workMin = 25;
let breakMin = 5;

let workTimeLeft = workMin * 60;
let breakTimeLeft = breakMin * 60;

let running = false;
let interval = null;

/* HANGÄ°SÄ° GÃ–RÃœNÃœYOR */
let viewMode = "work";

/* DOM */
const timeEl = document.getElementById("time");
const startBtn = document.getElementById("startBtn");
const tabWork = document.getElementById("tabWork");
const tabBreak = document.getElementById("tabBreak");
const workInput = document.getElementById("workInput");
const breakInput = document.getElementById("breakInput");

/* ğŸŒ§ï¸ YAÄMUR */
const rainAudio = document.getElementById("rainAudio");
const rainBtn = document.getElementById("rainBtn");
let rainOn = false;

/* â±ï¸ GÃ–STERÄ°M */
function updateTime(){
  const t = viewMode === "work" ? workTimeLeft : breakTimeLeft;
  const m = String(Math.floor(t / 60)).padStart(2,"0");
  const s = String(t % 60).padStart(2,"0");
  timeEl.textContent = `${m}:${s}`;
}

/* â–¶ï¸ TIMER */
function startTimer(){
  if(running) return;
  running = true;
  startBtn.textContent = "PAUSE";

  interval = setInterval(()=>{
    if(workTimeLeft > 0) workTimeLeft--;
    if(breakTimeLeft > 0) breakTimeLeft--;

    /* Pomodoro biterse resetle */
    if(workTimeLeft <= 0){
      workTimeLeft = workMin * 60;
    }

    /* Break biterse resetle */
    if(breakTimeLeft <= 0){
      breakTimeLeft = breakMin * 60;
    }

    updateTime();
  },1000);
}

function pauseTimer(){
  running = false;
  clearInterval(interval);
  startBtn.textContent = "START";
}

/* START / PAUSE */
startBtn.onclick = ()=>{
  running ? pauseTimer() : startTimer();
};

/* TABLAR â€” TIMER ASLA DURMAZ */
tabWork.onclick = ()=>{
  viewMode = "work";
  tabWork.classList.add("active");
  tabBreak.classList.remove("active");
  updateTime();
};

tabBreak.onclick = ()=>{
  viewMode = "break";
  tabBreak.classList.add("active");
  tabWork.classList.remove("active");
  updateTime();
};

/* INPUTLAR */
workInput.onchange = ()=>{
  workMin = Number(workInput.value);
  workTimeLeft = workMin * 60;
  updateTime();
};

breakInput.onchange = ()=>{
  breakMin = Number(breakInput.value);
  breakTimeLeft = breakMin * 60;
  updateTime();
};

/* ğŸŒ§ï¸ YAÄMUR */
rainBtn.onclick = ()=>{
  if(!rainOn){
    rainAudio.play();
    rainBtn.textContent = "ğŸŒ§ï¸ YaÄŸmur Kapat";
  }else{
    rainAudio.pause();
    rainBtn.textContent = "ğŸŒ§ï¸ YaÄŸmur AÃ§";
  }
  rainOn = !rainOn;
};

/* Ä°LK Ã‡ALIÅTIRMA */
updateTime();
</script>
/*


